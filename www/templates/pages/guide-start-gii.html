
        <h1>Generating Code with Gii <span id="generating-code-with-gii"></span><a href="#generating-code-with-gii" class="hashlink">&para;</a></h1>
<div class="toc"><ol><li><a href="#starting-gii">Starting Gii</a></li>
<li><a href="#generating-ar">Generating an Active Record Class</a></li>
<li><a href="#generating-crud">Generating CRUD Code</a></li>
<li><a href="#trying-it-out">Trying it Out</a></li>
<li><a href="#summary">Summary</a></li></ol></div>
<p>This section will describe how to use <a href="https://github.com/yiisoft/yii2-gii/blob/master/docs/guide/README.md">Gii</a> to automatically generate code
that implements some common Web site features. Using Gii to auto-generate code is simply a matter of entering the right information per the instructions shown on the Gii Web pages.</p>
<p>Through this tutorial, you will learn how to:</p>
<ul>
<li>enable Gii in your application,</li>
<li>use Gii to generate an Active Record class,</li>
<li>use Gii to generate the code implementing the CRUD operations for a DB table,</li>
<li>customize the code generated by Gii.</li>
</ul>
<h2>Starting Gii  <span id="starting-gii"></span><a href="#starting-gii" class="hashlink">&para;</a></h2><p><a href="https://github.com/yiisoft/yii2-gii/blob/master/docs/guide/README.md">Gii</a> is provided in Yii as a <a href="guide-structure-modules.html">module</a>. You can enable Gii
by configuring it in the <a href="yii-base-module.html#$modules-detail">modules</a> property of the application. Depending upon how you created your application, you may find the following code is already provided in the <code>config/web.php</code> configuration file:</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$config</span> = [ ... ];

<span class="hljs-keyword">if</span> (YII_ENV_DEV) {
    <span class="hljs-variable">$config</span>[<span class="hljs-string">'bootstrap'</span>][] = <span class="hljs-string">'gii'</span>;
    <span class="hljs-variable">$config</span>[<span class="hljs-string">'modules'</span>][<span class="hljs-string">'gii'</span>] = [
        <span class="hljs-string">'class'</span> =&gt; <span class="hljs-string">'yii\gii\Module'</span>,
    ];
}
</code></pre>
<p>The above configuration states that when in <a href="guide-concept-configurations.html#environment-constants">development environment</a>,
the application should include a module named <code>gii</code>, which is of class <a href="yii-gii-module.html">yii\gii\Module</a>.</p>
<p>If you check the <a href="guide-structure-entry-scripts.html">entry script</a> <code>web/index.php</code> of your application, you will
find the following line, which essentially makes <code>YII_ENV_DEV</code> to be <code>true</code>.</p>
<pre><code class="hljs php language-php">defined(<span class="hljs-string">'YII_ENV'</span>) <span class="hljs-keyword">or</span> define(<span class="hljs-string">'YII_ENV'</span>, <span class="hljs-string">'dev'</span>);
</code></pre>
<p>Thanks to that line, your application is in development mode, and will have already enabled Gii, per the above configuration. You can now access Gii via the following URL:</p>
<pre><code class="hljs less"><span class="hljs-attribute">http</span>:<span class="hljs-comment">//hostname/index.php?r=gii</span>
</code></pre>
<blockquote class="note"><p><strong>Note: </strong>If you are accessing Gii from a machine other than localhost, the access will be denied by default
for security purpose. You can configure Gii to add the allowed IP addresses as follows,</p>
<pre><code class="hljs php language-php"><span class="hljs-string">'gii'</span> =&gt; [
    <span class="hljs-string">'class'</span> =&gt; <span class="hljs-string">'yii\gii\Module'</span>,
    <span class="hljs-string">'allowedIPs'</span> =&gt; [<span class="hljs-string">'127.0.0.1'</span>, <span class="hljs-string">'::1'</span>, <span class="hljs-string">'192.168.0.*'</span>, <span class="hljs-string">'192.168.178.20'</span>] <span class="hljs-comment">// adjust this to your needs</span>
],
</code></pre>
</blockquote>
<p><img src="images/start-gii.png" alt="Gii" /></p>
<h2>Generating an Active Record Class  <span id="generating-ar"></span><a href="#generating-ar" class="hashlink">&para;</a></h2><p>To use Gii to generate an Active Record class, select the "Model Generator" (by clicking the link on the Gii index page). Then fill out the form as follows:</p>
<ul>
<li>Table Name: <code>country</code></li>
<li>Model Class: <code>Country</code></li>
</ul>
<p><img src="images/start-gii-model.png" alt="Model Generator" /></p>
<p>Next, click on the "Preview" button. You will see <code>models/Country.php</code> is listed in the resulting class file to be created. You may click on the name of the class file to preview its content.</p>
<p>When using Gii, if you have already created the same file and would be overwriting it, click
the <code>diff</code> button next to the file name to see the differences between the code to be generated
and the existing version.</p>
<p><img src="images/start-gii-model-preview.png" alt="Model Generator Preview" /></p>
<p>When overwriting an existing file, check the box next to "overwrite" and then click  the "Generate" button. If creating a new file, you can just click "Generate". </p>
<p>Next, you will see
a confirmation page indicating the code has been successfully generated. If you had an existing file, you'll also see a message indicating that it was overwritten with the newly generated code.</p>
<h2>Generating CRUD Code  <span id="generating-crud"></span><a href="#generating-crud" class="hashlink">&para;</a></h2><p>CRUD stands for Create, Read, Update, and Delete, representing the four common tasks taken with data on most Web sites. To create CRUD functionality using Gii, select the "CRUD Generator" (by clicking the link on the Gii index page). For the "country" example, fill out the resulting form as follows:</p>
<ul>
<li>Model Class: <code>app\models\Country</code></li>
<li>Search Model Class: <code>app\models\CountrySearch</code></li>
<li>Controller Class: <code>app\controllers\CountryController</code></li>
</ul>
<p><img src="images/start-gii-crud.png" alt="CRUD Generator" /></p>
<p>Next, click on the "Preview" button. You will see a list of files to be generated, as shown below.</p>
<p><img src="images/start-gii-crud-preview.png" alt="CRUD Generator Preview" /></p>
<p>If you previously created the <code>controllers/CountryController.php</code> and
<code>views/country/index.php</code> files (in the databases section of the guide), check the "overwrite" box to replace them. (The previous versions did not have full CRUD support.)</p>
<h2>Trying it Out  <span id="trying-it-out"></span><a href="#trying-it-out" class="hashlink">&para;</a></h2><p>To see how it works, use your browser to access the following URL:</p>
<pre><code class="hljs less"><span class="hljs-attribute">http</span>:<span class="hljs-comment">//hostname/index.php?r=country%2Findex</span>
</code></pre>
<p>You will see a data grid showing the countries from the database table. You may sort the grid,
or filter it by entering filter conditions in the column headers.</p>
<p>For each country displayed in the grid, you may choose to view its details, update it, or delete it.
You may also click on the "Create Country" button on top of the grid to be provided with a form for creating a new country.</p>
<p><img src="images/start-gii-country-grid.png" alt="Data Grid of Countries" /></p>
<p><img src="images/start-gii-country-update.png" alt="Updating a Country" /></p>
<p>The following is the list of the files generated by Gii, in case you want to investigate how these features are implemented,
or to customize them:</p>
<ul>
<li>Controller: <code>controllers/CountryController.php</code></li>
<li>Models: <code>models/Country.php</code> and <code>models/CountrySearch.php</code></li>
<li>Views: <code>views/country/*.php</code></li>
</ul>
<blockquote class="info"><p><strong>Info: </strong>Gii is designed to be a highly customizable and extensible code generation tool. Using it wisely
  can greatly accelerate your application development speed. For more details, please refer to
  the <a href="https://github.com/yiisoft/yii2-gii/blob/master/docs/guide/README.md">Gii</a> section.</p>
</blockquote>
<h2>Summary  <span id="summary"></span><a href="#summary" class="hashlink">&para;</a></h2><p>In this section, you have learned how to use Gii to generate the code that implements complete
CRUD functionality for content stored in a database table.</p>