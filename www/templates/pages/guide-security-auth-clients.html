 <article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-installation" class="anchor" href="#installation" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h1>

<h2><a id="user-content-installing-an-extension" class="anchor" href="#installing-an-extension" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing an extension</h2>

<p>In order to install extension use Composer. Either run</p>

<pre><code>composer require --prefer-dist yiisoft/yii2-authclient "~2.1.0"
</code></pre>

<p>or add</p>

<div class="highlight highlight-source-json"><pre><span class="pl-s"><span class="pl-pds">"</span>yiisoft/yii2-authclient<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>~2.1.0<span class="pl-pds">"</span></span></pre></div>

<p>to the <code>require</code> section of your composer.json.</p>

<h2><a id="user-content-configuring-application" class="anchor" href="#configuring-application" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuring application</h2>

<p>After extension is installed you need to setup auth client collection application component:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">return</span> [</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>components<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">        <span class="pl-s"><span class="pl-pds">'</span>authClientCollection<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>class<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>yii\authclient\Collection<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>clients<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>google<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>class<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>yii\authclient\clients\Google<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>clientId<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>google_client_id<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>clientSecret<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>google_client_secret<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                ],</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>facebook<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>class<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>yii\authclient\clients\Facebook<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>clientId<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>facebook_client_id<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>clientSecret<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>facebook_client_secret<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                ],</span>
<span class="pl-s1">                <span class="pl-c">// etc.</span></span>
<span class="pl-s1">            ],</span>
<span class="pl-s1">        ]</span>
<span class="pl-s1">        <span class="pl-c">// ...</span></span>
<span class="pl-s1">    ],</span>
<span class="pl-s1">    <span class="pl-c">// ...</span></span>
<span class="pl-s1">];</span></pre></div>

<p>Out of the box the following clients are provided:</p>

<ul>
<li>[[\yii\authclient\clients\Facebook|Facebook]].</li>
<li>[[yii\authclient\clients\GitHub|GitHub]].</li>
<li>Google (via [[yii\authclient\clients\Google|OAuth]] and [[yii\authclient\clients\GoogleHybrid|OAuth Hybrid]]).</li>
<li>[[yii\authclient\clients\LinkedIn|LinkedIn]].</li>
<li>[[yii\authclient\clients\Live|Microsoft Live]].</li>
<li>[[yii\authclient\clients\Twitter|Twitter]].</li>
<li>[[yii\authclient\clients\VKontakte|VKontakte]].</li>
<li>[[yii\authclient\clients\Yandex|Yandex]].</li>
</ul>

<p>Configuration for each client is a bit different. For OAuth it's required to get client ID and secret key from
the service you're going to use. For OpenID it works out of the box in most cases.</p>

<h2><a id="user-content-storing-authorization-data" class="anchor" href="#storing-authorization-data" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Storing authorization data</h2>

<p>In order to recognize the user authenticated via external service we need to store ID provided on first authentication
and then check against it on subsequent authentications. It's not a good idea to limit login options to external
services only since these may fail and there won't be a way for the user to log in. Instead it's better to provide
both external authentication and good old login and password.</p>

<p>If we're storing user information in a database the corresponding migration code could be the following:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">m</span>??????_??????_auth <span class="pl-k">extends</span> <span class="pl-c1">\yii\db\</span><span class="pl-e">Migration</span></span>
<span class="pl-s1">{</span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">up</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>createTable(<span class="pl-s"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>primaryKey(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>string()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>auth_key<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>string()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>password_hash<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>string()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>password_reset_token<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>string()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>string()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>status<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>smallInteger()<span class="pl-k">-&gt;</span>notNull()<span class="pl-k">-&gt;</span>defaultValue(<span class="pl-c1">10</span>),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>created_at<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>integer()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>updated_at<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>integer()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">        ]);</span>
<span class="pl-s1"></span>
<span class="pl-s1">        <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>createTable(<span class="pl-s"><span class="pl-pds">'</span>auth<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>primaryKey(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>user_id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>integer()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>source<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>string()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>source_id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>string()<span class="pl-k">-&gt;</span>notNull(),</span>
<span class="pl-s1">        ]);</span>
<span class="pl-s1"></span>
<span class="pl-s1">        <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>addForeignKey(<span class="pl-s"><span class="pl-pds">'</span>fk-auth-user_id-user-id<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>auth<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>user_id<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>CASCADE<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>CASCADE<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">down</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>dropTable(<span class="pl-s"><span class="pl-pds">'</span>auth<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">        <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>dropTable(<span class="pl-s"><span class="pl-pds">'</span>user<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">    }</span>
<span class="pl-s1">}</span></pre></div>

<p>In the above example <code>user</code> is a standard table that is used in advanced project template to store user info.
Each user can authenticate using multiple external services therefore each <code>user</code> record can relate to
multiple <code>auth</code> records. In the <code>auth</code> table <code>source</code> is the name of the auth provider used and <code>source_id</code> is
unique user identifier that is provided by external service after successful login.</p>

<p>Using tables created above we can generate <code>Auth</code> model. No further adjustments needed.</p>


<article class="markdown-body entry-content" itemprop="text"><h1><a id="user-content-quick-start" class="anchor" href="#quick-start" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Quick Start</h1>

<h2><a id="user-content-adding-action-to-controller" class="anchor" href="#adding-action-to-controller" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding action to controller</h2>

<p>Next step is to add [[yii\authclient\AuthAction]] to a web controller and provide a <code>successCallback</code> implementation,
which is suitable for your needs. Typically final controller code may look like following:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">app\components\AuthHandler</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">SiteController</span> <span class="pl-k">extends</span> <span class="pl-e">Controller</span></span>
<span class="pl-s1">{</span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">actions</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-k">return</span> [</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>auth<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>class<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">'</span>yii\authclient\AuthAction<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                <span class="pl-s"><span class="pl-pds">'</span>successCallback<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [<span class="pl-smi">$this</span>, <span class="pl-s"><span class="pl-pds">'</span>onAuthSuccess<span class="pl-pds">'</span></span>],</span>
<span class="pl-s1">            ],</span>
<span class="pl-s1">        ];</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">onAuthSuccess</span>(<span class="pl-smi">$client</span>)</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        (<span class="pl-k">new</span> <span class="pl-c1">AuthHandler</span>(<span class="pl-smi">$client</span>))<span class="pl-k">-&gt;</span>handle();</span>
<span class="pl-s1">    }</span>
<span class="pl-s1">}</span></pre></div>

<p>Note that it's important for <code>auth</code> action to be public accessible, so make sure it's not denied by access control filter.</p>

<p>Where AuthHandler implementation could be like this:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">namespace</span> <span class="pl-en">app\components</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">app\models\Auth</span>;</span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">app\models\User</span>;</span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">Yii</span>;</span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">yii\authclient\ClientInterface</span>;</span>
<span class="pl-s1"><span class="pl-k">use</span> <span class="pl-c1">yii\helpers\ArrayHelper</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c"> * AuthHandler handles successful authentication via Yii auth component</span></span>
<span class="pl-s1"><span class="pl-c"> */</span></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">AuthHandler</span></span>
<span class="pl-s1">{</span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@var</span> ClientInterface</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">private</span> <span class="pl-smi">$client</span>;</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-c1">__construct</span>(<span class="pl-c1">ClientInterface</span> <span class="pl-smi">$client</span>)</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span> <span class="pl-k">=</span> <span class="pl-smi">$client</span>;</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">handle</span>()</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-smi">$attributes</span> <span class="pl-k">=</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getUserAttributes();</span>
<span class="pl-s1">        <span class="pl-smi">$email</span> <span class="pl-k">=</span> <span class="pl-c1">ArrayHelper</span><span class="pl-k">::</span>getValue(<span class="pl-smi">$attributes</span>, <span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">        <span class="pl-smi">$id</span> <span class="pl-k">=</span> <span class="pl-c1">ArrayHelper</span><span class="pl-k">::</span>getValue(<span class="pl-smi">$attributes</span>, <span class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">        <span class="pl-smi">$nickname</span> <span class="pl-k">=</span> <span class="pl-c1">ArrayHelper</span><span class="pl-k">::</span>getValue(<span class="pl-smi">$attributes</span>, <span class="pl-s"><span class="pl-pds">'</span>login<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1"></span>
<span class="pl-s1">        <span class="pl-c">/* @var Auth $auth */</span></span>
<span class="pl-s1">        <span class="pl-smi">$auth</span> <span class="pl-k">=</span> <span class="pl-c1">Auth</span><span class="pl-k">::</span>find()<span class="pl-k">-&gt;</span>where([</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>source<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getId(),</span>
<span class="pl-s1">            <span class="pl-s"><span class="pl-pds">'</span>source_id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$id</span>,</span>
<span class="pl-s1">        ])<span class="pl-k">-&gt;</span>one();</span>
<span class="pl-s1"></span>
<span class="pl-s1">        <span class="pl-k">if</span> (<span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span><span class="pl-smi">user</span><span class="pl-k">-&gt;</span><span class="pl-smi">isGuest</span>) {</span>
<span class="pl-s1">            <span class="pl-k">if</span> (<span class="pl-smi">$auth</span>) { <span class="pl-c">// login</span></span>
<span class="pl-s1">                <span class="pl-c">/* @var User $user */</span></span>
<span class="pl-s1">                <span class="pl-smi">$user</span> <span class="pl-k">=</span> <span class="pl-smi">$auth</span><span class="pl-k">-&gt;</span><span class="pl-smi">user</span>;</span>
<span class="pl-s1">                <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>updateUserInfo(<span class="pl-smi">$user</span>);</span>
<span class="pl-s1">                <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span><span class="pl-smi">user</span><span class="pl-k">-&gt;</span>login(<span class="pl-smi">$user</span>, <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span><span class="pl-smi">params</span>[<span class="pl-s"><span class="pl-pds">'</span>user.rememberMeDuration<span class="pl-pds">'</span></span>]);</span>
<span class="pl-s1">            } <span class="pl-k">else</span> { <span class="pl-c">// signup</span></span>
<span class="pl-s1">                <span class="pl-k">if</span> (<span class="pl-smi">$email</span> <span class="pl-k">!</span><span class="pl-k">==</span> <span class="pl-c1">null</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">User</span><span class="pl-k">::</span>find()<span class="pl-k">-&gt;</span>where([<span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$email</span>])<span class="pl-k">-&gt;</span>exists()) {</span>
<span class="pl-s1">                    <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>getSession()<span class="pl-k">-&gt;</span>setFlash(<span class="pl-s"><span class="pl-pds">'</span>error<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                        <span class="pl-c1">Yii</span><span class="pl-k">::</span>t(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">"</span>User with the same email as in {client} account already exists but isn't linked to it. Login using email first to link it.<span class="pl-pds">"</span></span>, [<span class="pl-s"><span class="pl-pds">'</span>client<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getTitle()]),</span>
<span class="pl-s1">                    ]);</span>
<span class="pl-s1">                } <span class="pl-k">else</span> {</span>
<span class="pl-s1">                    <span class="pl-smi">$password</span> <span class="pl-k">=</span> <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span><span class="pl-smi">security</span><span class="pl-k">-&gt;</span>generateRandomString(<span class="pl-c1">6</span>);</span>
<span class="pl-s1">                    <span class="pl-smi">$user</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">User</span>([</span>
<span class="pl-s1">                        <span class="pl-s"><span class="pl-pds">'</span>username<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$nickname</span>,</span>
<span class="pl-s1">                        <span class="pl-s"><span class="pl-pds">'</span>github<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$nickname</span>,</span>
<span class="pl-s1">                        <span class="pl-s"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$email</span>,</span>
<span class="pl-s1">                        <span class="pl-s"><span class="pl-pds">'</span>password<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$password</span>,</span>
<span class="pl-s1">                    ]);</span>
<span class="pl-s1">                    <span class="pl-smi">$user</span><span class="pl-k">-&gt;</span>generateAuthKey();</span>
<span class="pl-s1">                    <span class="pl-smi">$user</span><span class="pl-k">-&gt;</span>generatePasswordResetToken();</span>
<span class="pl-s1"></span>
<span class="pl-s1">                    <span class="pl-smi">$transaction</span> <span class="pl-k">=</span> <span class="pl-c1">User</span><span class="pl-k">::</span>getDb()<span class="pl-k">-&gt;</span>beginTransaction();</span>
<span class="pl-s1"></span>
<span class="pl-s1">                    <span class="pl-k">if</span> (<span class="pl-smi">$user</span><span class="pl-k">-&gt;</span>save()) {</span>
<span class="pl-s1">                        <span class="pl-smi">$auth</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Auth</span>([</span>
<span class="pl-s1">                            <span class="pl-s"><span class="pl-pds">'</span>user_id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$user</span><span class="pl-k">-&gt;</span><span class="pl-smi">id</span>,</span>
<span class="pl-s1">                            <span class="pl-s"><span class="pl-pds">'</span>source<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getId(),</span>
<span class="pl-s1">                            <span class="pl-s"><span class="pl-pds">'</span>source_id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> (<span class="pl-k">string</span>)<span class="pl-smi">$id</span>,</span>
<span class="pl-s1">                        ]);</span>
<span class="pl-s1">                        <span class="pl-k">if</span> (<span class="pl-smi">$auth</span><span class="pl-k">-&gt;</span>save()) {</span>
<span class="pl-s1">                            <span class="pl-smi">$transaction</span><span class="pl-k">-&gt;</span>commit();</span>
<span class="pl-s1">                            <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span><span class="pl-smi">user</span><span class="pl-k">-&gt;</span>login(<span class="pl-smi">$user</span>, <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span><span class="pl-smi">params</span>[<span class="pl-s"><span class="pl-pds">'</span>user.rememberMeDuration<span class="pl-pds">'</span></span>]);</span>
<span class="pl-s1">                        } <span class="pl-k">else</span> {</span>
<span class="pl-s1">                            <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>getSession()<span class="pl-k">-&gt;</span>setFlash(<span class="pl-s"><span class="pl-pds">'</span>error<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                                <span class="pl-c1">Yii</span><span class="pl-k">::</span>t(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Unable to save {client} account: {errors}<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                                    <span class="pl-s"><span class="pl-pds">'</span>client<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getTitle(),</span>
<span class="pl-s1">                                    <span class="pl-s"><span class="pl-pds">'</span>errors<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">json_encode</span>(<span class="pl-smi">$auth</span><span class="pl-k">-&gt;</span>getErrors()),</span>
<span class="pl-s1">                                ]),</span>
<span class="pl-s1">                            ]);</span>
<span class="pl-s1">                        }</span>
<span class="pl-s1">                    } <span class="pl-k">else</span> {</span>
<span class="pl-s1">                        <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>getSession()<span class="pl-k">-&gt;</span>setFlash(<span class="pl-s"><span class="pl-pds">'</span>error<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                            <span class="pl-c1">Yii</span><span class="pl-k">::</span>t(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Unable to save user: {errors}<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                                <span class="pl-s"><span class="pl-pds">'</span>client<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getTitle(),</span>
<span class="pl-s1">                                <span class="pl-s"><span class="pl-pds">'</span>errors<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">json_encode</span>(<span class="pl-smi">$user</span><span class="pl-k">-&gt;</span>getErrors()),</span>
<span class="pl-s1">                            ]),</span>
<span class="pl-s1">                        ]);</span>
<span class="pl-s1">                    }</span>
<span class="pl-s1">                }</span>
<span class="pl-s1">            }</span>
<span class="pl-s1">        } <span class="pl-k">else</span> { <span class="pl-c">// user already logged in</span></span>
<span class="pl-s1">            <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-smi">$auth</span>) { <span class="pl-c">// add auth provider</span></span>
<span class="pl-s1">                <span class="pl-smi">$auth</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-c1">Auth</span>([</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>user_id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span><span class="pl-smi">user</span><span class="pl-k">-&gt;</span><span class="pl-smi">id</span>,</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>source<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getId(),</span>
<span class="pl-s1">                    <span class="pl-s"><span class="pl-pds">'</span>source_id<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> (<span class="pl-k">string</span>)<span class="pl-smi">$attributes</span>[<span class="pl-s"><span class="pl-pds">'</span>id<span class="pl-pds">'</span></span>],</span>
<span class="pl-s1">                ]);</span>
<span class="pl-s1">                <span class="pl-k">if</span> (<span class="pl-smi">$auth</span><span class="pl-k">-&gt;</span>save()) {</span>
<span class="pl-s1">                    <span class="pl-c">/** @var User $user */</span></span>
<span class="pl-s1">                    <span class="pl-smi">$user</span> <span class="pl-k">=</span> <span class="pl-smi">$auth</span><span class="pl-k">-&gt;</span><span class="pl-smi">user</span>;</span>
<span class="pl-s1">                    <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span>updateUserInfo(<span class="pl-smi">$user</span>);</span>
<span class="pl-s1">                    <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>getSession()<span class="pl-k">-&gt;</span>setFlash(<span class="pl-s"><span class="pl-pds">'</span>success<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                        <span class="pl-c1">Yii</span><span class="pl-k">::</span>t(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Linked {client} account.<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                            <span class="pl-s"><span class="pl-pds">'</span>client<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getTitle()</span>
<span class="pl-s1">                        ]),</span>
<span class="pl-s1">                    ]);</span>
<span class="pl-s1">                } <span class="pl-k">else</span> {</span>
<span class="pl-s1">                    <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>getSession()<span class="pl-k">-&gt;</span>setFlash(<span class="pl-s"><span class="pl-pds">'</span>error<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                        <span class="pl-c1">Yii</span><span class="pl-k">::</span>t(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, <span class="pl-s"><span class="pl-pds">'</span>Unable to link {client} account: {errors}<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                            <span class="pl-s"><span class="pl-pds">'</span>client<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getTitle(),</span>
<span class="pl-s1">                            <span class="pl-s"><span class="pl-pds">'</span>errors<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">json_encode</span>(<span class="pl-smi">$auth</span><span class="pl-k">-&gt;</span>getErrors()),</span>
<span class="pl-s1">                        ]),</span>
<span class="pl-s1">                    ]);</span>
<span class="pl-s1">                }</span>
<span class="pl-s1">            } <span class="pl-k">else</span> { <span class="pl-c">// there's existing auth</span></span>
<span class="pl-s1">                <span class="pl-c1">Yii</span><span class="pl-k">::</span><span class="pl-smi">$app</span><span class="pl-k">-&gt;</span>getSession()<span class="pl-k">-&gt;</span>setFlash(<span class="pl-s"><span class="pl-pds">'</span>error<span class="pl-pds">'</span></span>, [</span>
<span class="pl-s1">                    <span class="pl-c1">Yii</span><span class="pl-k">::</span>t(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                        <span class="pl-s"><span class="pl-pds">'</span>Unable to link {client} account. There is another user using it.<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">                        [<span class="pl-s"><span class="pl-pds">'</span>client<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getTitle()]),</span>
<span class="pl-s1">                ]);</span>
<span class="pl-s1">            }</span>
<span class="pl-s1">        }</span>
<span class="pl-s1">    }</span>
<span class="pl-s1"></span>
<span class="pl-s1">    <span class="pl-c">/**</span></span>
<span class="pl-s1"><span class="pl-c">     * <span class="pl-k">@param</span> User $user</span></span>
<span class="pl-s1"><span class="pl-c">     */</span></span>
<span class="pl-s1">    <span class="pl-k">private</span> <span class="pl-k">function</span> <span class="pl-en">updateUserInfo</span>(<span class="pl-c1">User</span> <span class="pl-smi">$user</span>)</span>
<span class="pl-s1">    {</span>
<span class="pl-s1">        <span class="pl-smi">$attributes</span> <span class="pl-k">=</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">client</span><span class="pl-k">-&gt;</span>getUserAttributes();</span>
<span class="pl-s1">        <span class="pl-smi">$github</span> <span class="pl-k">=</span> <span class="pl-c1">ArrayHelper</span><span class="pl-k">::</span>getValue(<span class="pl-smi">$attributes</span>, <span class="pl-s"><span class="pl-pds">'</span>login<span class="pl-pds">'</span></span>);</span>
<span class="pl-s1">        <span class="pl-k">if</span> (<span class="pl-smi">$user</span><span class="pl-k">-&gt;</span><span class="pl-smi">github</span> <span class="pl-k">===</span> <span class="pl-c1">null</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">$github</span>) {</span>
<span class="pl-s1">            <span class="pl-smi">$user</span><span class="pl-k">-&gt;</span><span class="pl-smi">github</span> <span class="pl-k">=</span> <span class="pl-smi">$github</span>;</span>
<span class="pl-s1">            <span class="pl-smi">$user</span><span class="pl-k">-&gt;</span>save();</span>
<span class="pl-s1">        }</span>
<span class="pl-s1">    }</span>
<span class="pl-s1">}</span></pre></div>

<p><code>successCallback</code> method is called when user was successfully authenticated via external service. Via <code>$client</code> instance
we can retrieve information received. In our case we'd like to:</p>

<ul>
<li>If user is guest and record found in auth then log this user in.</li>
<li>If user is guest and record not found in auth then create new user and make a record in auth table. Then log in.</li>
<li>If user is logged in and record not found in auth then try connecting additional account (save its data into auth table).</li>
</ul>

<blockquote>
<p>Note: different Auth clients may require different approaches while handling authentication success. For example: Twitter
  does not allow returning of the user email, so you have to deal with this somehow.</p>
</blockquote>

<h3><a id="user-content-auth-client-basic-structure" class="anchor" href="#auth-client-basic-structure" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Auth client basic structure</h3>

<p>Although, all clients are different they shares same basic interface [[yii\authclient\ClientInterface]],
which governs common API.</p>

<p>Each client has some descriptive data, which can be used for different purposes:</p>

<ul>
<li><code>id</code> - unique client id, which separates it from other clients, it could be used in URLs, logs etc.</li>
<li><code>name</code> - external auth provider name, which this client is match too. Different auth clients
can share the same name, if they refer to the same external auth provider.
For example: clients for Google and Google Hybrid have same name "google".
This attribute can be used inside the database, CSS styles and so on.</li>
<li><code>title</code> - user friendly name for the external auth provider, it is used to present auth client
at the view layer.</li>
</ul>

<p>Each auth client has different auth flow, but all of them supports <code>getUserAttributes()</code> method,
which can be invoked if authentication was successful.</p>

<p>This method allows you to get information about external user account, such as ID, email address,
full name, preferred language etc. Note that for each provider fields available may vary in both existence and
names.</p>

<p>Defining list of attributes, which external auth provider should return, depends on client type:</p>

<ul>
<li>[[yii\authclient\OpenId]]: combination of <code>requiredAttributes</code> and <code>optionalAttributes</code>.</li>
<li>[[yii\authclient\OAuth1]] and [[yii\authclient\OAuth2]]: field <code>scope</code>, note that different
providers use different formats for the scope.</li>
</ul>

<blockquote>
<p>Tip: If you are using several different clients, you can unify the structure of the attributes, which they return,
  using [[yii\authclient\BaseClient::normalizeUserAttributeMap]].</p>
</blockquote>

<h2><a id="user-content-adding-widget-to-login-view" class="anchor" href="#adding-widget-to-login-view" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding widget to login view</h2>

<p>There's ready to use [[yii\authclient\widgets\AuthChoice]] widget to use in views:</p>

<div class="highlight highlight-text-html-php"><pre><span class="pl-s1"><span class="pl-k">&lt;</span>?<span class="pl-k">=</span> <span class="pl-c1">yii\authclient\widgets\</span><span class="pl-c1">AuthChoice</span><span class="pl-k">::</span>widget([</span>
<span class="pl-s1">     <span class="pl-s"><span class="pl-pds">'</span>baseAuthUrl<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> [<span class="pl-s"><span class="pl-pds">'</span>site/auth<span class="pl-pds">'</span></span>],</span>
<span class="pl-s1">     <span class="pl-s"><span class="pl-pds">'</span>popupMode<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">false</span>,</span>
<span class="pl-s1">]) </span><span class="pl-pse"><span class="pl-s1">?</span>&gt;</span></pre></div>
</article>

</article>

<a href="https://github.com/yiisoft/yii2-authclient/blob/master/docs/guide/README.md">For more information</a>